﻿<div class="overlay h-screen w-full bg-gray_darkest bg-opacity-75 fixed top-0 z-50 flex items-center justify-center @(IsOpen ? "" : "hidden")">
    
    <div class="bg-white m-4 w-fit shadow-lg overflow-y-auto @ModelSize @ModalClass">
        @if (Header != null)
        {
            <div class="modal-header p-4 md:p-6 lg:p-10 text-2xl bg-gray text-center text-white font-bold @HeaderClass">
                @Header
            </div>
        }
        @if (Body != null)
        {
            <div class="modal-body bg-gray_darkest py-4 text-center md:py-6 lg:py-10 px-4 md:px-8 lg:px-16 overflow-y-scroll  @BodyClass">
                @Body
            </div>
        }
        @if (Footer != null)
        {
            <div class="modal-footer @FooterClass">
                <div class="flex">
                    @Footer
                </div>
            </div>
        }
    </div>

</div>

<style>
    .max-h-1\/6 {
        max-height: calc(1/6 * 100%);
    }

    .max-h-2\/6 {
        max-height: calc(2/6 * 100%);
    }

    .max-h-3\/6 {
        max-height: calc(3/6 * 100%);
    }

    .max-h-4\/6 {
        max-height: calc(4/6 * 100%);
    }

    .max-h-5\/6 {
        max-height: calc(5/6 * 100%);
    }
</style>
@code {

    public enum Size { Small, Medium, Large, Larger, Largest };

    [Parameter]
    public RenderFragment Header { get; set; }

    [Parameter]
    public RenderFragment Body { get; set; }

    [Parameter]
    public RenderFragment Footer { get; set; }

    [Parameter]
    public Size ModelWidth { get; set; } = Size.Large;

    [Parameter]
    public bool IsOpen { get; set; } = true;

    [Parameter]
    public string ModalClass { get; set; }

    [Parameter]
    public string HeaderClass { get; set; }

    [Parameter]
    public string BodyClass { get; set; }

    [Parameter]
    public string FooterClass { get; set; }

    public string ModelSize { get; set; }

    protected override void OnInitialized()
    {
        switch (ModelWidth)
        {
            case Size.Small:
                ModelSize = "max-w-sm";
                break;
            case Size.Medium:
                ModelSize = "max-w-lg";
                break;
            case Size.Large:
                ModelSize = "max-w-2xl";
                break;
            case Size.Larger:
                ModelSize = "max-w-4xl";
                break;
            case Size.Largest:
                ModelSize = "max-w-7xl";
                break;
            default:
                break;
        }
    }
}